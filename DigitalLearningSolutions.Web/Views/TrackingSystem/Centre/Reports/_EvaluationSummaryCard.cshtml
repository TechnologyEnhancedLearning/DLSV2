@using DigitalLearningSolutions.Web.ViewModels.TrackingSystem.Centre.Reports
@model EvaluationSummaryViewModel

<div class="nhsuk-card">
  <div class="nhsuk-card__content">
    <h3 class="nhsuk-card__heading">
      @Model.Question
    </h3>

    <div class="nhsuk-card__description">
      @if (Model.ResponsePercentages != null && Model.ResponsePercentages.Any())
      {
        <div class="ct-chart ct-perfect-fourth" id="@(new string(Model.Question.Where(char.IsLetter).ToArray()))"></div>

        <dl class="nhsuk-summary-list nhsuk-u-margin-bottom-3">
          @foreach (var (response, percentageString) in Model.ResponsePercentages)
          {
            <div class="nhsuk-summary-list__row">
            <dt class="nhsuk-summary-list__key eval-summary-row__key">
              @response
            </dt>
            <dd class="nhsuk-summary-list__value eval-summary-row__value">
              @percentageString
            </dd>
        </div>
          }
        </dl>
      } else {
        <span>This question has not been answered yet.</span>
      }
    </div>
  </div>
</div>
