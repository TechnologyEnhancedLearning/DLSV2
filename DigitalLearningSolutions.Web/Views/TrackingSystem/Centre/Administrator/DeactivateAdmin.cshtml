@inject IConfiguration Configuration
@using DigitalLearningSolutions.Web.Models.Enums
@using DigitalLearningSolutions.Web.ViewModels.TrackingSystem.Centre.Administrator
@using Microsoft.Extensions.Configuration
@model DeactivateAdminViewModel

@{
  ViewData["Title"] = !ViewData.ModelState.IsValid ? "Error: Deactivate Admin Account" : "Deactivate Admin Account";
  ViewData["Application"] = "Tracking System";
  ViewData["HeaderPath"] = $"{Configuration["AppRootPath"]}/TrackingSystem/Centre/Dashboard";
  ViewData["HeaderPathName"] = "Tracking System";
}

@section NavMenuItems {
  <partial name="_AutoNavMenuItems" model="ApplicationType.TrackingSystem" />
}

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">
    <h1 class="nhsuk-heading-l">Are you sure you would like to deactivate this admin account?</h1>
  </div>
</div>

<div class="nhsuk-grid-row nhsuk-u-margin-6">
  <div class="nhsuk-grid-column-one-quarter nhsuk-heading-s">
    <div class="nhsuk-u-font-weight-bold">
      User
    </div>
  </div>
  <div class="nhsuk-grid-column-three-quarters nhsuk-heading-s nhsuk-u-font-weight-normal">
    @Model.FullName (@Model.EmailAddress)
  </div>
</div>

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">
    <form class="nhsuk-u-margin-bottom-5" method="post" asp-action="DeactivateAdmin">
      <div class="nhsuk-form-group">

        <vc:confirm-checkbox asp-for="@nameof(Model.Confirm)"
                             label="I am sure that I wish to deactivate this account. I understand that if the user has never logged in, their admin account will be deleted."
                             populate-with-current-values="false"
                             hint-text="" />
      </div>
      <input type="hidden" asp-for="FullName" />
      <input type="hidden" asp-for="EmailAddress" />
      <button class="nhsuk-button delete-button nhsuk-button--secondary" type="submit">Deactivate account</button>
    </form>

    <vc:cancel-link asp-controller="Administrator" asp-action="Index" />
  </div>
</div>
