@inject IConfiguration Configuration;
@using DigitalLearningSolutions.Web.ViewModels.TrackingSystem.Centre.Administrator
@using Microsoft.Extensions.Configuration
@model EditRolesViewModel

@{
  ViewData["Title"] = "Edit Administrator Roles";
  ViewData["Application"] = "Tracking System";
  ViewData["HeaderPath"] = $"{Configuration["AppRootPath"]}/TrackingSystem/Centre/Dashboard";
  ViewData["HeaderPathName"] = "Tracking System";
}

@section NavMenuItems {
  <partial name="~/Views/TrackingSystem/Shared/_NavMenuItems.cshtml" />
}

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">
    <h1 class="nhsuk-heading-xl">Edit administrator roles</h1>

    <vc:number-of-administrators centre-id="Model.CentreId" />

    <div class="nhsuk-grid-row">
      <div class="nhsuk-grid-column-one-quarter nhsuk-heading-l">
        <div class="nhsuk-u-font-weight-bold">
          Name:
        </div>
      </div>
      <div class="nhsuk-grid-column-three-quarters nhsuk-heading-l nhsuk-u-font-weight-normal">
        <input type="hidden" asp-for="FullName" />
        @Model.FullName
      </div>
    </div>

    <form class="nhsuk-u-margin-bottom-3" method="post" novalidate asp-action="EditAdminRoles">

      <vc:checkboxes label="Please select all the roles this user has:"
                     populate-with-current-values="true"
                     checkboxes="@Model.Checkboxes"
                     hint-text="" />

      <vc:radios asp-for="@nameof(Model.ContentManagementRole)"
                 label="Content management roles:"
                 populate-with-current-values="true"
                 radios="@Model.Radios"
                 hint-text="" />

      <vc:select-list asp-for="LearningCategory"
                      label="Learning category"
                      value="@Model.LearningCategory.ToString()"
                      hint-text="Limits the permissions of the administrator to view and manage courses in a particular category."
                      deselectable="true"
                      css-class="nhsuk-u-width-one-half"
                      default-option=""
                      select-list-options="@Model.LearningCategories" />

      <button class="nhsuk-button" type="submit" value="save">Save</button>
    </form>

    <vc:cancel-link asp-controller="Administrator" asp-action="Index" />
  </div>
</div>
