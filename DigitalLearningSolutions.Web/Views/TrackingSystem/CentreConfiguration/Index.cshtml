@using DigitalLearningSolutions.Web.ViewModels.TrackingSystem
@model CentreConfigurationViewModel

<link rel="stylesheet" href="@Url.Content("~/css/trackingSystem/centreConfiguration.css")" asp-append-version="true">

@{
  ViewData["Title"] = "Centre configuration";
}

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">
  <h1 id="page-heading" class="nhsuk-heading-xl">Centre configuration</h1>

    <div class="nhsuk-card nhsuk-u-margin-top-8 nhsuk-u-margin-bottom-8">
      <div class="nhsuk-card__content basic-card-content">
        <dl class="nhsuk-summary-list">
          <div class="nhsuk-summary-list__row basic-summary-list__row">
            <dt class="nhsuk-summary-list__key">Centre name:</dt>
            <dd class="nhsuk-summary-list__value ">@Model.CentreName</dd>
          </div>
          <div class="nhsuk-summary-list__row basic-summary-list__row">
            <dt class="nhsuk-summary-list__key">Region:</dt>
            <dd class="nhsuk-summary-list__value ">@Model.RegionName</dd>
          </div>
        </dl>
      </div>
    </div>

    <details class="nhsuk-details nhsuk-expander bottom-margin-nhsuk-card">
      <summary class="nhsuk-details__summary">
        <span class="nhsuk-details__summary-text">
          Centre details
        </span>
      </summary>
      <div class="nhsuk-details__text">
        <dl class="nhsuk-summary-list details-list-with-button">
          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Notify email:
            </dt>
            <dd class="nhsuk-summary-list__value">
              @Model.NotifyEmail
            </dd>
          </div>

          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Banner text:
            </dt>
            <dd class="nhsuk-summary-list__value">
              @Model.BannerText
            </dd>
          </div>

          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Centre signature:
            </dt>
            <dd class="nhsuk-summary-list__value">
              @if (Model.SignatureImage != null) {
                <img class="nhsuk-image__img centre-detail-image__downsize" src="data:image;base64,@Convert.ToBase64String(Model.SignatureImage)" alt="Centre Signature Picture"/>
              }
            </dd>
          </div>

          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Centre logo:
            </dt>
            <dd class="nhsuk-summary-list__value">
              @if (Model.CentreLogo != null) {
                <img class="nhsuk-image__img centre-detail-image__downsize" src="data:image;base64,@Convert.ToBase64String(Model.CentreLogo)" alt="Centre Logo Picture"/>
              }
            </dd>
          </div>
        </dl>
      </div>
    </details>

    <details class="nhsuk-details nhsuk-expander bottom-margin-nhsuk-card">
      <summary class="nhsuk-details__summary">
        <span class="nhsuk-details__summary-text">
          Centre manager details
        </span>
      </summary>
      <div class="nhsuk-details__text">
        <dl class="nhsuk-summary-list details-list-with-button">
          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              First name:
            </dt>
            <dd class="nhsuk-summary-list__value">
              @Model.ContactForename
            </dd>
          </div>

          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Last name:
            </dt>
            <dd class="nhsuk-summary-list__value">
              @Model.ContactSurname
            </dd>
          </div>

          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Email:
            </dt>
            <dd class="nhsuk-summary-list__value">
              @Model.ContactEmail
            </dd>
          </div>

          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Telephone:
            </dt>
            <dd class="nhsuk-summary-list__value">
              @Model.ContactTelephone
            </dd>
          </div>
        </dl>

        <a class="nhsuk-button" role="button" asp-action="EditCentreManagerDetails">
          Edit
        </a>

      </div>
    </details>

    <details class="nhsuk-details nhsuk-expander bottom-margin-nhsuk-card">
      <summary class="nhsuk-details__summary">
        <span class="nhsuk-details__summary-text">
          Centre content on DLS website
        </span>
      </summary>
      <div class="nhsuk-details__text">
        <p>The details below are published on the Digital Learning Solutions website.</p>

        <dl class="nhsuk-summary-list details-list-with-button">
          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Centre telephone:
            </dt>
            <dd class="nhsuk-summary-list__value">
              @Model.CentreTelephone
            </dd>
          </div>

          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Centre email:
            </dt>
            <dd class="nhsuk-summary-list__value">
              @Model.CentreEmail
            </dd>
          </div>

          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Centre postcode:
            </dt>
            <dd class="nhsuk-summary-list__value">
              @Model.CentrePostcode
            </dd>
          </div>

          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Opening hours:
            </dt>
            <dd class="nhsuk-summary-list__value">
              @Model.OpeningHours
            </dd>
          </div>

          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Centre web address:
            </dt>
            <dd class="nhsuk-summary-list__value">
              @Model.CentreWebAddress
            </dd>
          </div>

          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Organisations covered:
            </dt>
            <dd class="nhsuk-summary-list__value">
              <partial name="_CentreStringArray" model="Model.OrganisationsCovered"/>
            </dd>
          </div>

          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Training venues:
            </dt>
            <dd class="nhsuk-summary-list__value">
              <partial name="_CentreStringArray" model="Model.TrainingVenues" />
            </dd>
          </div>

          <div class="nhsuk-summary-list__row details-list-with-button__row">
            <dt class="nhsuk-summary-list__key">
              Other information:
            </dt>
            <dd class="nhsuk-summary-list__value">
              <partial name="_CentreStringArray" model="Model.OtherInformation" />
            </dd>
          </div>
        </dl>
        
        <a class="nhsuk-button nhsuk-u-margin-right-2" role="button" asp-action="EditCentreWebsiteDetails">
          Edit
        </a>
        <a class="nhsuk-button nhsuk-button--secondary" role="button" asp-controller="FindYourCentre" asp-action="Index" asp-route-centreId="@Model.CentreId">
          Preview on website
        </a>

      </div>
    </details>
  </div>
</div>

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">
    <a class="nhsuk-button" asp-controller="CentreConfiguration" asp-action="RegistrationPrompts">Manage registration prompts</a>
  </div>
</div>
