@using DigitalLearningSolutions.Web.Models.Enums
@using DigitalLearningSolutions.Web.ViewModels.MyAccount
@using Microsoft.Extensions.Configuration
@model MyAccountViewModel

@inject IConfiguration Configuration

<link rel="stylesheet" href="@Url.Content("~/css/myAccount/myAccount.css")" asp-append-version="true">

@{
  ViewData["Title"] = "My Account";
  var application = (ApplicationType)ViewBag.ApplicationType;
  ViewData["Application"] = application.ApplicationName;
  ViewData["HeaderPath"] = application.HeaderPath;
  ViewData["HeaderPathName"] = application.HeaderPathName;
}

@section NavMenuItems {
  @if (ApplicationType.TrackingSystem.Equals(application)) {
    <partial name="../TrackingSystem/Shared/_NavMenuItems" />
  } else if (ApplicationType.LearningPortal.Equals(application)) {
    <partial name="../LearningPortal/Shared/_NavMenuItems" />
  } else if (ApplicationType.Frameworks.Equals(application)) {
    <partial name="../Frameworks/Shared/_NavMenuItems" />
  } else {
    <partial name="_NavMenuItems" />
  }
}

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">
    <h1 class="nhsuk-heading-xl" id="app-page-heading">My account</h1>

    <partial name="_AccountSummaryCard" model="Model" />

    <partial name="_MyDetailsCard" model="Model" />
  </div>
</div>
<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">
    <a class="nhsuk-button" asp-controller="NotificationPreferences" asp-action="Index" role="button">
      View notification preferences
    </a>
  </div>
</div>
<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">
    <a class="nhsuk-button nhsuk-button--secondary" asp-controller="Logout" asp-action="Index" role="button">
      Log out
    </a>
  </div>
</div>
