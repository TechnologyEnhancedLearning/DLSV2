@using DigitalLearningSolutions.Web.ViewModels.MyAccount
@model NotificationPreferenceExpanderViewModel

<link rel="stylesheet" href="@Url.Content("~/css/myAccount/notificationPreferences.css")" asp-append-version="true">

<dl class="nhsuk-grid-column-full nhsuk-summary-list preference-list">
  @foreach (var notification in Model.Notifications) {
    <div class="nhsuk-grid-row preference-row">
      <div class="nhsuk-grid-column-three-quarters preference-text-column">
        <div class="nhsuk-heading-xs">@notification.NotificationName</div>
        <p class="nhsuk-body-m">@Html.Raw(notification.Description)</p>
      </div>
      <div class="nhsuk-grid-column-one-quarter preference-tag-column">
        <strong class="nhsuk-u-font-size-19 preference-tag nhsuk-tag @(notification.Accepted ? "" : "nhsuk-tag--grey")">
          @(notification.Accepted ? "Subscribed" : "Unsubscribed")
        </strong>
      </div>
    </div>
  }
</dl>
<a
  class="nhsuk-button"
  asp-controller="NotificationPreferences"
  asp-action="UpdateNotificationPreferences"
  asp-route-userType="@Model.UserType"
  role="button"
>
  Update preferences
</a>
