@using DigitalLearningSolutions.Web.ViewModels.ForgotPassword
@model ForgotPasswordViewModel
@{
  ViewData["Title"] = "Reset Your Password";
  var inputErrorClass = !String.IsNullOrWhiteSpace(Model.EmailErrorMessage) ? "nhsuk-input--error" : "";
  var formErrorClass = !String.IsNullOrWhiteSpace(Model.EmailErrorMessage) ? "nhsuk-form-group--error" : "";
}

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">
    @if (!String.IsNullOrWhiteSpace(Model.EmailErrorMessage))
    {
      <div class="nhsuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1">
        <h2 class="nhsuk-error-summary__title" id="error-summary-title">
          There is a problem
        </h2>
        <div class="nhsuk-error-summary__body">
          <ul class="nhsuk-list nhsuk-error-summary__list">
            <li>
              <a href="#emailAddress">@Model.EmailErrorMessage</a>
            </li>
          </ul>
        </div>
      </div>
    }

    <h1 id="page-heading" class="nhsuk-u-margin-bottom-6">Reset your password</h1>

    <form method="post" novalidate>
      <div class="nhsuk-form-group @formErrorClass">
        <label class="nhsuk-label nhsuk-u-margin-bottom-4" for="emailAddress">
          Enter your email address and we will send you password reset instructions.
        </label>
        @if (!String.IsNullOrWhiteSpace(Model.EmailErrorMessage))
        {
          <span class="nhsuk-error-message" id="emailAddress-error">
            <span class="nhsuk-u-visually-hidden">Error:</span> @Model.EmailErrorMessage
          </span>
        }
        <input class="nhsuk-input nhsuk-u-width-one-half @inputErrorClass" type="text" id="emailAddress" spellcheck="false" autocomplete="email" aria-describedby="emailAddress-error" asp-for="EmailAddress" value="@Model.EmailAddress"/>
      </div>

      <button class="nhsuk-button" type="submit">Reset</button>
    </form>

  </div>
</div>
