@using DigitalLearningSolutions.Web.ViewModels.Frameworks;
@model CompetencyLearningResourceSignpostingParametersViewModel
<link rel="stylesheet" href="@Url.Content("~/css/frameworks/frameworksShared.css")" asp-append-version="true">
<partial name="Developer/_SignpostingParametersHeader" model="Model" />

<h2>Choose trigger range for - @(Model.SelectedQuestion?.Question ?? "no question selected")</h2>
<label class="nhsuk-label">Choose the minimum and maximum result values that </label>
<form method="post" asp-controller="Frameworks">
  <div class="nhsuk-form-group">
    @if (Model.SelectedQuestion.AssessmentQuestionInputTypeID == 2)
    {
      <partial name="Developer/_SignpostingQuestionSlider" model="Model.SelectedQuestion" />
    }
    else
    {
      foreach (var levelDescriptor in Model.AssessmentQuestionLevelDescriptors)
      {
        <div class="nhsuk-checkboxes__item">
          <input class="nhsuk-checkboxes__input" name="checkedLevelDescriptors" type="checkbox" value="@levelDescriptor.LevelValue">
          <label class="nhsuk-label nhsuk-checkboxes__label">
            @levelDescriptor.LevelLabel
          </label>
        </div>
      }
    }
  </div>
  <div class="nhsuk-u-margin-top-5">
    <button asp-action="EditCompetencyLearningResources" asp-route-frameworkId="@Model.FrameworkId" asp-route-frameworkCompetencyId="@Model.FrameworkCompetencyId" asp-route-frameworkCompetencyGroupId="@Model.FrameworkCompetencyGroupId" class="nhsuk-button nhsuk-button--secondary nhsuk-u-margin-right-2" type="submit">
      Back
    </button>
    <button asp-action="SignpostingParametersSetStatusViewNext" class="nhsuk-button nhsuk-u-margin-right-1" type="submit">
      Next
    </button>
  </div>
  @Html.HiddenFor(m => m.FrameworkId)
  @Html.HiddenFor(m => m.FrameworkCompetencyGroupId)
  @Html.HiddenFor(m => m.FrameworkCompetencyId)
</form>

<div class="nhsuk-back-link nhsuk-u-margin-left-1">
  <a class="nhsuk-back-link__link" asp-action="EditCompetencyLearningResources" asp-route-frameworkId="@Model.FrameworkId" asp-route-frameworkCompetencyId="@Model.FrameworkCompetencyId" asp-route-frameworkCompetencyGroupId="@Model.FrameworkCompetencyGroupId">
    <svg class="nhsuk-icon nhsuk-icon__chevron-left" focusable='false' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path d="M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"></path>
    </svg>
    Cancel
  </a>
</div>

@section scripts {
  <script src="@Url.Content("~/js/frameworks/signposting.js")" asp-append-version="true"></script>
}
